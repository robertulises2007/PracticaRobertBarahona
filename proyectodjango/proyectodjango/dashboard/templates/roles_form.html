{% extends 'base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white shadow-xl rounded-lg p-8">

    <h2 class="text-3xl font-bold text-gray-800 mb-6">
        {% if form.instance.id %}
            Editar Rol
        {% else %}
            Agregar Rol
        {% endif %}
    </h2>

    <form method="post" action="">
        {% csrf_token %}

        <!-- Campo rol -->
        <div class="mb-5">
            <label for="{{ form.rol.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                Nombre del Rol
            </label>
            {{ form.rol }}
            {% if form.rol.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.rol.errors }}</p>
            {% endif %}
        </div>

        <!-- Campo region -->
        <div class="mb-5">
            <label for="{{ form.region.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                Región (máx. 10 caracteres)
            </label>
            {{ form.region }}
            {% if form.region.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.region.errors }}</p>
            {% endif %}
        </div>

        <!-- Campo servicio -->
        <div class="mb-6">
            <label for="{{ form.servicio.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                URL del Servicio
            </label>
            {{ form.servicio }}
            {% if form.servicio.errors %}
                <p class="text-red-500 text-xs mt-1">{{ form.servicio.errors }}</p>
            {% endif %}
        </div>

        {% if form.instance.id %}
        <div class="grid grid-cols-2 gap-4 mb-4 text-sm text-gray-500">
            <p>Creado: {{ form.instance.fecha_creacion|date:"d/m/Y H:i" }}</p>
            <p>Última modificación: {{ form.instance.fecha_modificacion|date:"d/m/Y H:i" }}</p>
        </div>
        {% endif %}

        <div class="flex justify-end space-x-4">
            <a href="{% url 'roles_list' %}" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition duration-300">
                Cancelar
            </a>
            
            <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300">
                {% if form.instance.id %}
                    Guardar Cambios
                {% else %}
                    Agregar
                {% endif %}
            </button>
        </div>
        
    </form>
</div>
{% endblock %}
